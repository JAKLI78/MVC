@model List<MVCTask.Models.UserModel>

@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <script src="~/Scripts/jquery-1.12.4.min.js"></script>

    <title>Users</title>
</head>
<body>
<div>
    <ul>
        <li>Users</li>
        <li>@Html.TextBox("serchBox")</li>
        <li>@Html.ActionLink("Find", "Find")</li>
        <li>
            <a href="@Url.Action("NewUser", "NewUser")">New user</a>
        </li>
    </ul>
    @if (Model.Count > 0)
    {
        <table>
            <thead>
            <tr>
                <th>Name</th><th>Birth Date</th><th>Company</th><th>Actions</th>
            </tr>
            </thead>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @item.Name @item.Surname @item.TitlesForView <img class="img" id="@item.Id" src="@Url.Action("RenderImage", "AsyncImage", new {item.Id})"/>

                    </td>
                    <td>@Html.DisplayFor(m => m.Find(i => i.Id == item.Id).BirthDate)</td>
                    <td>@item.CompanyName</td>
                    @{
                        var dic = new Dictionary<string, object>();
                        dic.Add("id", item.Id);
                        <td>
                            <a href="@Url.Action("NewUser", "NewUser", new RouteValueDictionary(dic))">edit</a> <a href="@Url.Action("DeleteUser", "Users", new RouteValueDictionary(dic))">delete</a>
                        </td>
                    }

                </tr>
            }
        </table>
    }
</div>
</body>
</html>